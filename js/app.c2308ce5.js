(function(e){function t(t){for(var r,c,l=t[0],i=t[1],o=t[2],p=0,d=[];p<l.length;p++)c=l[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);s&&s(t);while(d.length)d.shift()();return u.push.apply(u,o||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,l=1;l<n.length;l++){var i=n[l];0!==a[i]&&(r=!1)}r&&(u.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},u=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var s=i;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0fe0":function(e,t,n){"use strict";n("56b2")},"3c99":function(e,t,n){"use strict";n("4ff7")},"4ff7":function(e,t,n){},"546a":function(e,t,n){},"561f":function(e,t,n){},"56b2":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={class:"content"};function u(e,t,n,u,c,l){var i=Object(r["w"])("Navbar"),o=Object(r["w"])("router-view");return Object(r["p"])(),Object(r["d"])(r["a"],null,[Object(r["g"])(i),Object(r["g"])("div",a,[Object(r["g"])(o)])],64)}var c=n("cd51"),l=n.n(c),i=Object(r["F"])("data-v-7e349532");Object(r["s"])("data-v-7e349532");var o={class:"navbar"},s=Object(r["g"])("img",{src:l.a},null,-1),p=Object(r["f"])("Musica"),d={class:"links"},b={key:0},v=Object(r["f"])("Create Playlist"),j=Object(r["f"])("My Playlists"),O={key:1},f=Object(r["f"])("Signup"),g=Object(r["f"])("Login");Object(r["q"])();var m=i((function(e,t,n,a,u,c){var l=Object(r["w"])("router-link");return Object(r["p"])(),Object(r["d"])("div",o,[Object(r["g"])("nav",null,[s,Object(r["g"])("h1",null,[Object(r["g"])(l,{to:{name:"Home"}},{default:i((function(){return[p]})),_:1})]),Object(r["g"])("div",d,[a.user?(Object(r["p"])(),Object(r["d"])("div",b,[Object(r["g"])(l,{to:{name:"CreatePlaylist"}},{default:i((function(){return[v]})),_:1}),Object(r["g"])(l,{to:{name:"UserPlaylists"}},{default:i((function(){return[j]})),_:1}),Object(r["g"])("span",null,"Hi there, "+Object(r["y"])(a.user.displayName),1),Object(r["g"])("button",{onClick:t[1]||(t[1]=function(){return a.handleClick&&a.handleClick.apply(a,arguments)})},"Logout")])):(Object(r["p"])(),Object(r["d"])("div",O,[Object(r["g"])(l,{class:"btn",to:{name:"Signup"}},{default:i((function(){return[f]})),_:1}),Object(r["g"])(l,{class:"btn",to:{name:"Login"}},{default:i((function(){return[g]})),_:1})]))])])])})),h=n("1da1"),y=(n("96cf"),n("260b")),w=(n("e71f"),n("ea7b"),n("588e"),{apiKey:"AIzaSyDREmv_ciqt_zOIlBw56OtGqMvz-sQNxTs",authDomain:"muso-ninjas-d34c6.firebaseapp.com",projectId:"muso-ninjas-d34c6",storageBucket:"muso-ninjas-d34c6.appspot.com",messagingSenderId:"337998618087",appId:"1:337998618087:web:0b462e6c9b3cdf9d6cb142",measurementId:"G-C4W006XZBP"});y["a"].initializeApp(w);var k=y["a"].firestore(),x=y["a"].auth(),P=y["a"].storage(),S=y["a"].firestore.FieldValue.serverTimestamp,R=Object(r["u"])(x.currentUser);x.onAuthStateChanged((function(e){console.log("User state change. Current user is:",e),R.value=e}));var C=function(){return{user:R}},D=C,A=Object(r["u"])(null),_=Object(r["u"])(!1),U=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return A.value=null,_.value=!0,e.prev=2,e.next=5,x.signOut();case 5:_.value=!1,e.next=13;break;case 8:e.prev=8,e.t0=e["catch"](2),console.log(e.t0.message),A.value=e.t0.message,_.value=!1;case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),I=function(){return{error:A,logout:U,isPending:_}},E=I,N=n("6c02"),L={setup:function(){var e=D(),t=e.user,n=E(),r=n.logout,a=Object(N["c"])(),u=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:console.log("logged out"),a.push({name:"Login"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{handleClick:u,user:t}}};n("3c99");L.render=m,L.__scopeId="data-v-7e349532";var V=L,q={components:{Navbar:V}};n("f6c1");q.render=u;var M=q,F={class:"home"},H={key:0,class:"error"},z={key:1};function B(e,t,n,a,u,c){var l=Object(r["w"])("ListView");return Object(r["p"])(),Object(r["d"])("div",F,[a.error?(Object(r["p"])(),Object(r["d"])("div",H,"Could not fetch the data")):Object(r["e"])("",!0),a.documents?(Object(r["p"])(),Object(r["d"])("div",z,[Object(r["g"])(l,{playlists:a.documents},null,8,["playlists"])])):Object(r["e"])("",!0)])}var T=Object(r["F"])("data-v-0f5368fe");Object(r["s"])("data-v-0f5368fe");var W={class:"single"},G={class:"thumbnail"},J={class:"info"},K={class:"song-number"};Object(r["q"])();var Q=T((function(e,t,n,a,u,c){var l=Object(r["w"])("router-link");return Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(n.playlists,(function(e){return Object(r["p"])(),Object(r["d"])("div",{key:e.id},[Object(r["g"])(l,{to:{name:"PlaylistDetails",params:{id:e.id}}},{default:T((function(){return[Object(r["g"])("div",W,[Object(r["g"])("div",G,[Object(r["g"])("img",{src:e.coverUrl},null,8,["src"])]),Object(r["g"])("div",J,[Object(r["g"])("h3",null,Object(r["y"])(e.title),1),Object(r["g"])("p",null,"created by "+Object(r["y"])(e.userName),1)]),Object(r["g"])("div",K,[Object(r["g"])("p",null,Object(r["y"])(e.songs.length)+" songs",1)])])]})),_:2},1032,["to"])])})),128)})),X={props:["playlists"]};n("9078");X.render=Q,X.__scopeId="data-v-0f5368fe";var Z=X,Y=n("5530"),$=n("2909"),ee=(n("159b"),function(e,t){var n,a=Object(r["u"])(null),u=Object(r["u"])(null),c=k.collection(e).orderBy("createdAt");t&&(c=(n=c).where.apply(n,Object($["a"])(t)));var l=c.onSnapshot((function(e){var t=[];e.docs.forEach((function(e){e.data().createdAt&&t.push(Object(Y["a"])(Object(Y["a"])({},e.data()),{},{id:e.id}))})),a.value=t,u.value=null}),(function(e){console.log(e.message),a.value=null,u.value="could not fetch the data"}));return Object(r["C"])((function(e){e((function(){return l()}))})),{error:u,documents:a}}),te=ee,ne={name:"Home",components:{ListView:Z},setup:function(){var e=te("playlists"),t=e.error,n=e.documents;return{error:t,documents:n}}};ne.render=B;var re=ne,ae=Object(r["g"])("h3",null,"Login",-1),ue={key:0,class:"error"},ce={key:1},le={key:2,disabled:""};function ie(e,t,n,a,u,c){return Object(r["p"])(),Object(r["d"])("form",{onSubmit:t[3]||(t[3]=Object(r["E"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[ae,Object(r["D"])(Object(r["g"])("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.email=e})},null,512),[[r["A"],a.email]]),Object(r["D"])(Object(r["g"])("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e})},null,512),[[r["A"],a.password]]),a.error?(Object(r["p"])(),Object(r["d"])("div",ue,Object(r["y"])(a.error),1)):Object(r["e"])("",!0),a.isPending?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("button",ce,"Log in")),a.isPending?(Object(r["p"])(),Object(r["d"])("button",le,"Loading")):Object(r["e"])("",!0)],32)}var oe=Object(r["u"])(null),se=Object(r["u"])(!1),pe=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return oe.value=null,se.value=!0,e.prev=2,e.next=5,x.signInWithEmailAndPassword(t,n);case 5:return r=e.sent,oe.value=null,se.value=!1,e.abrupt("return",r);case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0.message),oe.value="Incorrect login credentials",se.value=!1;case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){return{error:oe,login:pe,isPending:se}},be=de,ve={setup:function(){var e=be(),t=e.error,n=e.login,a=e.isPending,u=Object(N["c"])(),c=Object(r["u"])(""),l=Object(r["u"])(""),i=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n(c.value,l.value);case 2:e.sent,t.value||u.push({name:"UserPlaylists"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{email:c,password:l,handleSubmit:i,error:t,isPending:a}}};ve.render=ie;var je=ve,Oe=Object(r["g"])("h3",null,"Sign up",-1),fe={key:0,class:"error"},ge={key:1},me={key:2,disabled:""};function he(e,t,n,a,u,c){return Object(r["p"])(),Object(r["d"])("form",{onSubmit:t[4]||(t[4]=Object(r["E"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[Oe,Object(r["D"])(Object(r["g"])("input",{type:"text",placeholder:"Display name","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.displayName=e})},null,512),[[r["A"],a.displayName]]),Object(r["D"])(Object(r["g"])("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.email=e})},null,512),[[r["A"],a.email]]),Object(r["D"])(Object(r["g"])("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.password=e})},null,512),[[r["A"],a.password]]),a.error?(Object(r["p"])(),Object(r["d"])("div",fe,Object(r["y"])(a.error),1)):Object(r["e"])("",!0),a.isPending?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("button",ge,"Sign up")),a.isPending?(Object(r["p"])(),Object(r["d"])("button",me,"Loading")):Object(r["e"])("",!0)],32)}var ye=Object(r["u"])(null),we=Object(r["u"])(!1),ke=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return ye.value=null,we.value=!0,e.prev=2,e.next=5,x.createUserWithEmailAndPassword(t,n);case 5:if(a=e.sent,a){e.next=8;break}throw new Error("Could not complete signup");case 8:return e.next=10,a.user.updateProfile({displayName:r});case 10:return ye.value=null,we.value=!1,e.abrupt("return",a);case 15:e.prev=15,e.t0=e["catch"](2),console.log(e.t0.message),ye.value=e.t0.message,we.value=!1;case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),xe=function(){return{error:ye,signup:ke,isPending:we}},Pe=xe,Se={setup:function(){var e=Pe(),t=e.error,n=e.signup,a=e.isPending,u=Object(N["c"])(),c=Object(r["u"])(""),l=Object(r["u"])(""),i=Object(r["u"])(""),o=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n(c.value,l.value,i.value);case 2:e.sent,t.value||u.push({name:"UserPlaylists"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{email:c,password:l,displayName:i,handleSubmit:o,error:t,isPending:a}}};Se.render=he;var Re=Se,Ce=(n("a4d3"),n("e01a"),Object(r["g"])("h4",null,"Create a New Playlist",-1)),De=Object(r["g"])("label",null,"Upload Playlist Cover Image",-1),Ae={class:"error"},_e={key:0},Ue={key:1,disabled:""};function Ie(e,t,n,a,u,c){return Object(r["p"])(),Object(r["d"])("div",null,[Object(r["g"])("form",{onSubmit:t[4]||(t[4]=Object(r["E"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[Ce,Object(r["D"])(Object(r["g"])("input",{type:"text",required:"",placeholder:"Playlist title","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.title=e})},null,512),[[r["A"],a.title]]),Object(r["D"])(Object(r["g"])("textarea",{required:"",placeholder:"Playlist description...","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.description=e})},null,512),[[r["A"],a.description]]),De,Object(r["g"])("input",{type:"file",onChange:t[3]||(t[3]=function(){return a.handleChange&&a.handleChange.apply(a,arguments)})},null,32),Object(r["g"])("div",Ae,Object(r["y"])(a.fileError),1),a.isPending?(Object(r["p"])(),Object(r["d"])("button",Ue,"Saving...")):(Object(r["p"])(),Object(r["d"])("button",_e,"Create"))],32)])}n("caad"),n("99af"),n("b0c0");var Ee=D(),Ne=Ee.user,Le=function(){var e=Object(r["u"])(null),t=Object(r["u"])(null),n=Object(r["u"])(null),a=function(){var r=Object(h["a"])(regeneratorRuntime.mark((function r(a){var u,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.value="covers/".concat(Ne.value.uid,"/").concat(a.name),u=P.ref(n.value),r.prev=2,r.next=5,u.put(a);case 5:return c=r.sent,r.next=8,c.ref.getDownloadURL();case 8:t.value=r.sent,r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](2),console.log(r.t0.message),e.value=r.t0;case 15:case"end":return r.stop()}}),r,null,[[2,11]])})));return function(e){return r.apply(this,arguments)}}(),u=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=P.ref(n),t.prev=1,t.next=4,r.delete();case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](1),console.log(t.t0.message),e.value=t.t0;case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return{uploadImage:a,deleteImage:u,url:t,filePath:n,error:e}},Ve=Le,qe=function(e,t){var n=Object(r["u"])(null),a=Object(r["u"])(!1),u=k.collection(e).doc(t),c=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.value=!0,n.value=null,e.prev=2,e.next=5,u.delete();case 5:return t=e.sent,a.value=!1,e.abrupt("return",t);case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0.message),a.value=!1,n.value="could not delete the document";case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.value=!0,n.value=null,e.prev=2,e.next=5,u.update(t);case 5:return r=e.sent,a.value=!1,e.abrupt("return",r);case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0.message),a.value=!1,n.value="could not update the document";case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return{error:n,isPending:a,deleteDoc:c,updateDoc:l}},Me=qe,Fe={setup:function(){var e=Ve(),t=e.filePath,n=e.url,a=e.uploadImage,u=Me("playlists"),c=u.error,l=u.addDoc,i=D(),o=i.user,s=Object(N["c"])(),p=Object(r["u"])(""),d=Object(r["u"])(""),b=Object(r["u"])(null),v=Object(r["u"])(null),j=Object(r["u"])(!1),O=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!b.value){e.next=9;break}return j.value=!0,e.next=4,a(b.value);case 4:return e.next=6,l({title:p.value,description:d.value,userId:o.value.uid,userName:o.value.displayName,coverUrl:n.value,filePath:t.value,songs:[],createdAt:S()});case 6:r=e.sent,j.value=!1,c.value||s.push({name:"PlaylistDetails",params:{id:r.id}});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=["image/png","image/jpeg"],g=function(e){var t=e.target.files[0];console.log(t),t&&f.includes(t.type)?(b.value=t,v.value=null):(b.value=null,v.value="Please select an image file (png or jpg)")};return{title:p,description:d,handleSubmit:O,fileError:v,handleChange:g,isPending:j}}};n("b760");Fe.render=Ie;var He=Fe,ze={key:0,class:"error"},Be={key:1,class:"playlist-details"},Te={class:"playlist-info"},We={class:"cover"},Ge={class:"username"},Je={class:"description"},Ke={class:"song-list"},Qe={key:0},Xe={class:"details"};function Ze(e,t,n,a,u,c){var l=Object(r["w"])("AddSong");return Object(r["p"])(),Object(r["d"])(r["a"],null,[a.error?(Object(r["p"])(),Object(r["d"])("div",ze,Object(r["y"])(a.error),1)):Object(r["e"])("",!0),a.playlist?(Object(r["p"])(),Object(r["d"])("div",Be,[Object(r["g"])("div",Te,[Object(r["g"])("div",We,[Object(r["g"])("img",{src:a.playlist.coverUrl},null,8,["src"])]),Object(r["g"])("h2",null,Object(r["y"])(a.playlist.title),1),Object(r["g"])("p",Ge,"Created by "+Object(r["y"])(a.playlist.userName),1),Object(r["g"])("p",Je,Object(r["y"])(a.playlist.description),1),a.ownership?(Object(r["p"])(),Object(r["d"])("button",{key:0,onClick:t[1]||(t[1]=function(){return a.handleDelete&&a.handleDelete.apply(a,arguments)})},"Delete Playlist")):Object(r["e"])("",!0)]),Object(r["g"])("div",Ke,[a.playlist.songs.length?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("div",Qe,"No songs have been added to this playlist yet.")),(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(a.playlist.songs,(function(e){return Object(r["p"])(),Object(r["d"])("div",{key:e.id,class:"single-song"},[Object(r["g"])("div",Xe,[Object(r["g"])("h3",null,Object(r["y"])(e.title),1),Object(r["g"])("p",null,Object(r["y"])(e.artist),1)]),a.ownership?(Object(r["p"])(),Object(r["d"])("button",{key:0,onClick:function(t){return a.handleClick(e.id)}},"delete",8,["onClick"])):Object(r["e"])("",!0)])})),128)),Object(r["g"])(l,{playlist:a.playlist},null,8,["playlist"])])])):Object(r["e"])("",!0)],64)}n("4de4");var Ye=Object(r["F"])("data-v-5f5e6f36");Object(r["s"])("data-v-5f5e6f36");var $e={class:"add-song"},et=Object(r["g"])("h4",null,"Add a New Song",-1),tt=Object(r["g"])("button",null,"Add",-1);Object(r["q"])();var nt=Ye((function(e,t,n,a,u,c){return Object(r["p"])(),Object(r["d"])("div",$e,[a.showForm?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("button",{key:0,onClick:t[1]||(t[1]=function(e){return a.showForm=!0})},"Add Songs")),a.showForm?(Object(r["p"])(),Object(r["d"])("form",{key:1,onSubmit:t[4]||(t[4]=Object(r["E"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[et,Object(r["D"])(Object(r["g"])("input",{type:"text",placeholder:"Song title",required:"","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.title=e})},null,512),[[r["A"],a.title]]),Object(r["D"])(Object(r["g"])("input",{type:"text",placeholder:"Artist",required:"","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.artist=e})},null,512),[[r["A"],a.artist]]),tt],32)):Object(r["e"])("",!0)])})),rt=function(e,t){var n=Object(r["u"])(null),a=Object(r["u"])(!1),u=k.collection(e).doc(t),c=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.value=!0,n.value=null,e.prev=2,e.next=5,u.delete();case 5:return t=e.sent,a.value=!1,e.abrupt("return",t);case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0.message),a.value=!1,n.value="could not delete the document";case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.value=!0,n.value=null,e.prev=2,e.next=5,u.update(t);case 5:return r=e.sent,a.value=!1,e.abrupt("return",r);case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0.message),a.value=!1,n.value="could not update the document";case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return{error:n,isPending:a,deleteDoc:c,updateDoc:l}},at=rt,ut={props:["playlist"],setup:function(e){var t=Object(r["u"])(""),n=Object(r["u"])(""),a=Object(r["u"])(!1),u=at("playlists",e.playlist.id),c=u.updateDoc,l=function(){var r=Object(h["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={title:t.value,artist:n.value,id:Math.floor(1e6*Math.random())},r.next=3,c({songs:[].concat(Object($["a"])(e.playlist.songs),[a])});case 3:r.sent,t.value="",n.value="";case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return{title:t,artist:n,showForm:a,handleSubmit:l}}};n("b22f");ut.render=nt,ut.__scopeId="data-v-5f5e6f36";var ct=ut,lt=function(e,t){var n=Object(r["u"])(null),a=Object(r["u"])(null),u=k.collection(e).doc(t),c=u.onSnapshot((function(e){e.data()?(n.value=Object(Y["a"])(Object(Y["a"])({},e.data()),{},{id:e.id}),a.value=null):a.value="that document does not exist"}),(function(e){console.log(e.message),a.value="problem fetching the document"}));return Object(r["C"])((function(e){e((function(){return c()}))})),{error:a,document:n}},it=lt,ot={props:["id"],components:{AddSong:ct},setup:function(e){var t=it("playlists",e.id),n=t.error,a=t.document,u=D(),c=u.user,l=at("playlists",e.id),i=l.deleteDoc,o=l.updateDoc,s=Ve(),p=s.deleteImage,d=Object(N["c"])(),b=Object(r["b"])((function(){return a.value&&c.value&&c.value.uid==a.value.userId})),v=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return e.next=4,p(a.value.filePath);case 4:d.push({name:"Home"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.value.songs.filter((function(e){return e.id!=t})),e.next=3,o({songs:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{error:n,playlist:a,ownership:b,handleDelete:v,handleClick:j}}};n("6f37");ot.render=Ze;var st=ot,pt=Object(r["F"])("data-v-17c0375a");Object(r["s"])("data-v-17c0375a");var dt={class:"user-playlists"},bt=Object(r["g"])("h2",null,"My Playlists",-1),vt={key:0},jt=Object(r["f"])("Create a New Playlist");Object(r["q"])();var Ot=pt((function(e,t,n,a,u,c){var l=Object(r["w"])("ListView"),i=Object(r["w"])("router-link");return Object(r["p"])(),Object(r["d"])("div",dt,[bt,a.playlists?(Object(r["p"])(),Object(r["d"])("div",vt,[Object(r["g"])(l,{playlists:a.playlists},null,8,["playlists"])])):Object(r["e"])("",!0),Object(r["g"])(i,{to:{name:"CreatePlaylist"},class:"btn"},{default:pt((function(){return[jt]})),_:1})])})),ft={components:{ListView:Z},setup:function(){var e=D(),t=e.user,n=te("playlists",["userId","==",t.value.uid]),r=n.documents;return{playlists:r}}};n("0fe0");ft.render=Ot,ft.__scopeId="data-v-17c0375a";var gt,mt=ft,ht=function(e,t,n){var r=x.currentUser;r?n():n({name:"Login"})},yt=[{path:"/",name:"Home",component:re,beforeEnter:ht},{path:"/login",name:"Login",component:je},{path:"/signup",name:"Signup",component:Re},{path:"/playlists/create",name:"CreatePlaylist",component:He,beforeEnter:ht},{path:"/playlists/:id",name:"PlaylistDetails",component:st,props:!0,beforeEnter:ht},{path:"/playlists/user",name:"UserPlaylists",component:mt,beforeEnter:ht}],wt=Object(N["a"])({history:Object(N["b"])("/"),routes:yt}),kt=wt;n("845f");x.onAuthStateChanged((function(){gt||(gt=Object(r["c"])(M).use(kt).mount("#app"))}))},"616a":function(e,t,n){},"6f37":function(e,t,n){"use strict";n("546a")},"845f":function(e,t,n){},9078:function(e,t,n){"use strict";n("561f")},"9c95":function(e,t,n){},b22f:function(e,t,n){"use strict";n("e579")},b760:function(e,t,n){"use strict";n("9c95")},cd51:function(e,t,n){e.exports=n.p+"img/muso.0ac6c92c.png"},e579:function(e,t,n){},f6c1:function(e,t,n){"use strict";n("616a")}});
//# sourceMappingURL=app.c2308ce5.js.map